# PawPedia - Dog Breed Directory

PawPedia is a comprehensive dog breed directory powered by AI, providing detailed information about various dog breeds, along with a rich blog section featuring dog care articles.

## Features

- Detailed breed information generated by AI
- Beautiful photo galleries for each breed
- Responsive design for all devices
- Performance optimization with 6-month caching of AI-generated content
- Blog section with lazy loading for infinite scrolling
- Dynamic sitemap generation for SEO
- IndexNow integration for faster search engine indexing
- Responsive design for all devices

## Setup

### Prerequisites

- Node.js 18+ and npm
- Supabase account (for caching AI-generated content and blog storage)

### Installation

1. Clone the repository:
   ```bash
   git clone https://github.com/yourusername/pawpedia.git
   cd pawpedia
   ```

2. Install dependencies:
   ```bash
   npm install
   ```

3. Set up environment variables:
   - Create a `.env.local` file in the root directory
   - Add the following variables:
     ```
     NEXT_PUBLIC_SUPABASE_URL=your_supabase_url_here
     NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key_here
     NEXT_PUBLIC_SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here
     NEXT_PUBLIC_GEMINI_API_KEY=your_gemini_api_key_here
     ```

### Supabase Setup

1. Create a new Supabase project
2. Get your Supabase URL, anon key, and service role key from the project settings
3. Set up the database tables:
   - Go to the SQL Editor in your Supabase dashboard
   - Run the SQL script from `supabase/migrations/20240701000000_create_breed_cache_table.sql` for breed caching
   - Run the SQL script from `supabase/migrations/20240701000001_create_blog_tables.sql` for blog functionality

## How the Caching System Works

PawPedia uses a caching system to improve performance and reduce API calls to the Gemini AI service:

1. When a user visits a dog breed page, the system first checks if there's a valid cache entry in Supabase
2. If a valid cache exists (not expired), the data is retrieved from Supabase
3. If no valid cache exists, the system calls the Gemini AI API to generate the breed information
4. The generated information is then stored in Supabase with a 6-month expiration
5. Subsequent visits to the same breed page will use the cached data until it expires

This approach significantly improves performance and reduces costs associated with AI API calls.

## Blog System

PawPedia includes a comprehensive blog system with the following features:

### Blog Post Structure

Blog posts are stored in Supabase with the following structure:
- Title
- Slug (URL-friendly identifier)
- Content (Markdown format)
- Excerpt (Short summary)
- Featured Image
- Author
- Category
- Published Date

### Blog Import System

You can import blog posts from Markdown files using the import script:

1. Add your Markdown files to the `src/app/blog/posts` directory with the following frontmatter format:
   ```markdown
   ---
   title: "Your Blog Post Title"
   slug: "url-friendly-slug"
   excerpt: "A short summary of the blog post"
   coverImage: "https://example.com/image.jpg" (optional, will be replaced with a dog image)
   author: "Author Name"
   category: "Dog Category"
   date: "2023-01-01T00:00:00Z"
   ---

   Your blog post content in Markdown format...
   ```

2. Run the import script:
   ```bash
   npm run import-blog-posts
   ```

The script will:
- Read all Markdown files from the posts directory
- Check if they already exist in the database
- Import new posts to Supabase
- Automatically notify search engines via IndexNow

### Lazy Loading Blog Posts

The blog page implements lazy loading to improve performance:
- Initially loads a limited number of posts
- Loads more posts as the user scrolls down
- Provides a smooth infinite scrolling experience

## SEO Features

### Dynamic Sitemap Generation

PawPedia automatically generates a sitemap for search engines:

1. The sitemap is dynamically generated using Next.js's built-in sitemap functionality
2. It includes all static pages, breed pages, blog posts, and blog categories
3. The sitemap is accessible at `/sitemap.xml`

### IndexNow Integration

PawPedia integrates with IndexNow to notify search engines about new content:

1. When new blog posts are imported, IndexNow is automatically notified
2. You can manually submit all URLs to IndexNow using:
   ```bash
   npm run submit-to-indexnow
   ```

3. The IndexNow API key is stored in the codebase and used for all submissions

## Development

Run the development server:

```bash
npm run dev
```

Open [http://localhost:3000](http://localhost:3000) in your browser to see the application.

## Scripts

- `npm run dev` - Start the development server
- `npm run build` - Build the application for production
- `npm run start` - Start the production server
- `npm run import-blog-posts` - Import blog posts from Markdown files
- `npm run submit-to-indexnow` - Submit all URLs to IndexNow

## Deployment

### Vercel Deployment

The easiest way to deploy PawPedia is using Vercel:

1. Push your code to a GitHub repository
2. Go to [Vercel](https://vercel.com) and sign up or log in
3. Click "New Project" and import your GitHub repository
4. Configure the project:
   - Set the Framework Preset to "Next.js"
   - Add the environment variables from your `.env.local` file
5. Click "Deploy"

Vercel will automatically build and deploy your application. Each time you push changes to your repository, Vercel will automatically redeploy your application.

### Manual Deployment

Build the application for production:

```bash
npm run build
```

Start the production server:

```bash
npm start
```

## License

[MIT](LICENSE)
